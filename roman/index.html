<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8" />
    <title>Roman</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD"
      crossorigin="anonymous"
    />
  </head>
  <body class="bg-dark">
    <h1 class="text-center mb-4">Roman Converter</h1>
    <div
      class="contanier w-100 d-flex justify-content-center align-items-center flex-column"
      style="height: 500px"
    >
      <div class="m-auto mb-5" style="width: 500px; max-width: 90%">
        <input type="text" class="w-100 roman form-control mb-2" />
        <button
          type="button"
          name="button"
          class="romanbtn w-100 btn btn-primary"
        >
          Roman TO integer
        </button>
        <p class="h1 text-center p-3 text-light" id="id"></p>
      </div>

      <div class="m-auto" style="width: 500px; max-width: 90%">
        <input
          type="text"
          name=""
          value=""
          class="w-100 num form-control mb-2"
        />
        <button type="button" class="w-100 numbtn btn btn-primary">
          Integer To roman
        </button>
        <p class="h1 text-center p-3 text-light" id="rd"></p>
      </div>
    </div>

    <table
      class="table table-primary mb-4 m-auto text-center"
      style="width: 500px; max-width: 90%"
    >
      <thead>
        <tr>
          <th scope="col">Symbol</th>
          <th scope="col">Integer</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>I</td>
          <td>1</td>
        </tr>
        <tr>
          <td>V</td>
          <td>5</td>
        </tr>
        <tr>
          <td>X</td>
          <td>10</td>
        </tr>
        <tr>
          <td>L</td>
          <td>50</td>
        </tr>
        <tr>
          <td>C</td>
          <td>100</td>
        </tr>
        <tr>
          <td>D</td>
          <td>500</td>
        </tr>
        <tr>
          <td>M</td>
          <td>1000</td>
        </tr>
      </tbody>
    </table>

    <script>
      let values = [
        [1000, "M"],
        [900, "CM"],
        [500, "D"],
        [400, "CD"],
        [100, "C"],
        [90, "XC"],
        [50, "L"],
        [40, "XL"],
        [10, "X"],
        [9, "IX"],
        [5, "V"],
        [4, "IV"],
        [1, "I"],
      ];

      function getInteger(r) {
        switch (r) {
          case "I":
            return 1;
          case "V":
            return 5;
          case "X":
            return 10;
          case "L":
            return 50;
          case "C":
            return 100;
          case "D":
            return 500;
          case "M":
            return 1000;
        }
      }

      document.querySelector(".romanbtn").addEventListener("click", () => {
        let integer = 0;
        let roman = document.querySelector(".roman").value;

        if (!roman) {
          alert("Enter Value first");
          return;
        }

        let p = 0;
        for (let i = roman.length - 1; i >= 0; i--) {
          let a = getInteger(roman[i]);
          if (a >= p) {
            integer += a;
          } else {
            integer -= a;
          }
          p = a;
        }
        document.querySelector("#id").innerText = integer;
      });

      document.querySelector(".numbtn").addEventListener("click", () => {
        let roman = "";
        let num = document.querySelector(".num").value;
        if (!num) {
          alert("Enter Value first");
          return;
        }
        console.log(num);
        for (let i = 0; i < values.length; i++) {
          while (num >= values[i][0]) {
            roman += values[i][1];
            num -= values[i][0];
          }
        }
        document.querySelector("#rd").innerText = roman;
      });
    </script>
  </body>
</html>
